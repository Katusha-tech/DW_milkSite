{% extends "base.html" %}
{% block title %}Наши продукты{% endblock %}

{% block content %}
<section id="products" class="py-3 zigzag-section main-body">
    <div class="container-fluid px-4 px-md-5">
        <h2 class="text-center fw-bold orders-title mb-4">Наши продукты</h2>

        <div class="row row-cols-1 row-cols-sm-2 row-cols-md-3 row-cols-lg-4 g-3">
            {% for product in products %}
            <div class="col">
                <div class="card h-100 custom-order-card d-flex flex-column" style="font-size: 0.85rem; border-radius: 12px; overflow: hidden;">

                    {% if product.image %}
                        <div style="width: 100%; aspect-ratio: 1 / 1; overflow: hidden;">
                            <img src="{{ product.image.url }}" alt="{{ product.name }}"
                                 style="width: 100%; height: 100%; object-fit: cover;">
                        </div>
                    {% endif %}

                    <div class="card-body d-flex flex-column p-3">
                        {% if product.is_popular %}
                            <span class="position-absolute top-0 end-0 m-2 text-danger" title="Популярный продукт">
                                <i class="bi bi-fire fs-5"></i>
                            </span>
                        {% endif %}

                        <h6 class="card-title fw-semibold mb-2" style="font-size: 0.95rem;">{{ product.name }}</h6>
                        <p class="card-text mb-2" style="font-size: 0.8 ;">{{ product.description }}</p>
                        <p class="card-text fw-semibold mb-2" style="font-size: 0.85rem;">Цена: {{ product.price }} ₽</p>

                        <div class="mt-auto">
                            <button type="button" class="btn btn-sm btn-outline-secondary w-100"
                                    onclick="alert('Функция добавления в заказ пока в разработке.')">
                                <i class="bi bi-cart-plus me-1"></i> Добавить в заказ
                            </button>
                        </div>
                    </div>

                </div>
            </div>
            {% endfor %}
        </div>
    </div>
</section>
{% endblock %}
